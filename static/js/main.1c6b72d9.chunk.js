(this["webpackJsonpreact-checkers"]=this["webpackJsonpreact-checkers"]||[]).push([[0],{25:function(e,t,n){e.exports=n(34)},30:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(20),c=n.n(a),o=(n(30),n(3)),u=n(2),l="piece",p=n(38),s=function(e){var t=e.player,n=e.king,r=e.canDrag,a=(e.hasJump,e.AISelected),c=e.index,s=e.move,f=e.size,d=1===t?["rgb(183, 28, 28)","rgb(229, 57, 53)"]:["rgb(33, 33, 33)","rgb(66, 66, 66)"],v="".concat(f/21,"px"),g={display:"flex",alignItems:"center",justifyContent:"center",width:"80%",height:"80%",borderRadius:"100px",backgroundColor:d[0],boxShadow:"3px 3px 3px 1px #424242"},h={display:"flex",justifyContent:"center",alignItems:"center",width:"79%",height:"79%",borderRadius:"100px",backgroundColor:d[1]},b={color:d[0],fontSize:v};(r.length>0&&1===t||a)&&(g=Object(u.a)({},g,{backgroundColor:"rgb(255, 238, 88)"}));var m=Object(p.a)({item:{type:l,canDrag:r},end:function(e,t){var n=t.getDropResult();e&&n&&s(c,n.toIndex)}}),j=Object(o.a)(m,2)[1];return i.a.createElement("div",{"data-testid":"piece-outer",style:g,ref:r.length>0&&1===t?j:null},i.a.createElement("div",{"data-testid":"piece-inner",style:h},n?i.a.createElement("i",{"data-testid":"piece-king",className:"fas fa-crown",style:b}):""))},f=n(39),d=function(e){var t=e.index,n=e.black,r=e.piece,a=e.AIMoveTo,c=e.move,u=e.size,p=Object(f.a)({accept:l,drop:function(){return{toIndex:t}},canDrop:function(e,n){return n.getItem().canDrag.includes(t)},collect:function(e){return{canDrop:!!e.canDrop()}}}),d=Object(o.a)(p,2),v=d[0].canDrop,g=d[1],h={display:"flex",justifyContent:"center",alignItems:"center",width:"12.5%",height:"12.5%",backgroundColor:v||a?"#5c6bc0":n?"rgb(117, 117, 117)":"rgb(238, 238, 238)"};return i.a.createElement("div",{"data-testid":"tile",style:h,ref:g},r?i.a.createElement(s,{player:r.player,canDrag:r.canDrag,hasJump:r.hasJump,king:r.king,AISelected:r.AISelected,index:t,move:c,size:u}):"")},v=function(e){return[e%8,Math.floor(e/8)]},g=function(e,t){if(!(e<0||e>7||t<0||t>7))return e+8*t},h=function(e){return e>=0&&e<64},b=function(e,t){return!h(e)||!t.tiles[e].piece},m=function(e,t,n,r){var i=v(e),a=Object(o.a)(i,2),c=a[0],u=a[1],l=g(c+n[0],u+n[1]);return void 0!==l&&(function(e,t,n){if(!h(e))return!1;var r=n.tiles[e].piece;return r&&r.player!==t}(e,t,r)&&b(l,r))},j=function(e,t){var n=t.tiles[e].piece;if(!n)return[[],[]];for(var r=n.player,i=function(e,t){return t?[[-1,-1],[1,-1],[1,1],[-1,1]]:1===e?[[-1,-1],[1,-1]]:[[1,1],[-1,1]]}(r,n.king),a=v(e),c=Object(o.a)(a,2),u=c[0],l=c[1],p=[],s=[],f=0;f<i.length;f++){var d=i[f][0],h=i[f][1],j=g(u+d,l+h);if(void 0!==j)if(b(j,t))p.push(j);else if(m(j,r,i[f],t)){var y=g(u+2*d,l+2*h);void 0!==y&&s.push(y)}}return[p,s]},y=function(e){return null!==e.jumping?function(e){var t=e.tiles.map((function(t){if(t.index===e.jumping&&t.piece){var n=j(t.index,e),r=Object(o.a)(n,2)[1],i=Object(u.a)({},t.piece,{canDrag:r});return Object(u.a)({},t,{piece:i})}if(t.piece){var a=Object(u.a)({},t.piece,{canDrag:[]});return Object(u.a)({},t,{piece:a})}return t}));return Object(u.a)({},e,{tiles:t})}(e):function(e){var t={},n={},r=e.tiles,i=e.playerTurn;r.forEach((function(r){if(r.piece&&r.piece.player===i){var a=j(r.index,e),c=Object(o.a)(a,2),u=c[0],l=c[1];u.length>0&&(t[r.index]=u),l.length>0&&(n[r.index]=l)}}));var a=Object.keys(n).length>0,c=a?n:t,l=r.map((function(e,t){if(e.piece){var n=c[t]?c[t]:[],r=Object(u.a)({},e.piece,{canDrag:n,hasJump:a});return Object(u.a)({},e,{piece:r})}return e}));return Object(u.a)({},e,{tiles:l})}(e)},O=function(e,t,n){var r,i,a=null===(r=n.tiles[e].piece)||void 0===r?void 0:r.canDrag,c=null===(i=n.tiles[e].piece)||void 0===i?void 0:i.hasJump;if(a&&a.includes(t)){var l=Object(u.a)({},n),p=l.tiles[t].piece;if(l.tiles[t].piece=l.tiles[e].piece,l.tiles[e].piece=p,c)if(w(e,t,l),l.tiles[t].piece){var s=j(t,l),f=Object(o.a)(s,2)[1];l.jumping=f.length>0?t:null}return x(t,l),null===l.jumping&&(l.playerTurn=1===l.playerTurn?2:1),y(l)}return y(n)},w=function(e,t,n){var r=function(e,t){return(e+t)/2}(e,t);if(r){var i=n.tiles[r].piece;i&&(1===i.player?n.numPieceOne--:n.numPieceTwo--,n.tiles[r].piece=null)}},x=function(e,t){var n=t.tiles[e].piece;n&&(1===n.player&&e<8&&(n.king=!0),2===n.player&&e>=56&&(n.king=!0))},k=function(e){var t=[];if(e.tiles.forEach((function(e){e.piece&&2===e.piece.player&&e.piece.canDrag.length>0&&t.push(e.index)})),0===t.length)return[-1,-1];var n=Math.floor(Math.random()*t.length),r=t[n],i=e.tiles[r].piece;if(!i)return[-1,-1];var a=i.canDrag;return[r,a[Math.floor(Math.random()*a.length)]]},E=function(e,t,n){var r=n.tiles.map((function(n){if(n.index===e&&n.piece){var r=Object(u.a)({},n.piece,{AISelected:!0});return Object(u.a)({},n,{piece:r})}return n.index===t?Object(u.a)({},n,{AIMoveTo:!0}):n}));return Object(u.a)({},n,{tiles:r})},I=n(40),D=function(){for(var e=[],t=0;t<64;t++){var n=v(t),r=Object(o.a)(n,2),i=r[0],a=r[1],c=l(i,a);e.push({id:Object(I.a)(),index:t,black:(i+a)%2===1,piece:c,AIMoveTo:!1})}return y({playerTurn:1,winner:!1,tiles:e,numPieceOne:12,numPieceTwo:12,jumping:null});function l(e,t){var n={player:1,king:!1,canDrag:[],hasJump:!1,AISelected:!1};return t<=2&&(e+t)%2===1?Object(u.a)({},n,{player:2}):t>=5&&(e+t)%2===1?n:null}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D(),t=Object(r.useState)(e),n=Object(o.a)(t,2),i=n[0],a=n[1],c=function(e){setTimeout((function(){l(e)}),300)},u=function(e,t,n){var r=O(e,t,n);r.tiles[t].AIMoveTo=!1;var i=r.tiles[t].piece;i&&(i.AISelected=!1),a(r),2===r.playerTurn&&c(r)},l=function(e){var t=k(e),n=Object(o.a)(t,2),r=n[0],i=n[1];if(-1!==r&&-1!==i){var c=E(r,i,e);a(c),setTimeout((function(){u(r,i,c)}),500)}},p=function(e,t){var n=O(e,t,i);a(n),2===n.playerTurn&&c(n)};return[i,p]},M={display:"flex",flexWrap:"wrap"},A=function(){var e=Object(r.useRef)(null),t=Object(r.useState)(0),n=Object(o.a)(t,2),a=n[0],c=n[1];Object(r.useEffect)((function(){var t=function(){var t=window.innerHeight,n=window.innerWidth,r=Math.min(t,n),i="".concat(r,"px");e&&e.current&&(e.current.style.setProperty("height",i),e.current.style.setProperty("width",i)),c(r)};return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]);var u=T(),l=Object(o.a)(u,2),p=l[0],s=l[1];return i.a.createElement("div",{"data-testid":"board",ref:e,style:M},p.tiles.map((function(e){return i.a.createElement(d,{key:e.id,index:e.index,black:e.black,move:s,AIMoveTo:e.AIMoveTo,piece:e.piece,size:a})})))},S=n(23),z=n(22),C=n(37),J={display:"flex",justifyContent:"center",alignItems:"center",height:"var(--app-height)",width:"100vw"},P=function(){return Object(r.useEffect)((function(){var e=function(){return document.documentElement.style.setProperty("--app-height","".concat(window.innerHeight,"px"))};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),i.a.createElement("div",{style:J},i.a.createElement(C.a,{backend:S.a,options:z.a},i.a.createElement(A,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.1c6b72d9.chunk.js.map